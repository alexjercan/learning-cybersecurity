# Basic Pentesting

[Basic Pentesting](https://tryhackme.com/room/basicpentestingjt)

## Solution

1. Run `nmap -sS <ip>` to get the open ports.

For now, the interesting one seems to be the port 80 which is a http server.

2. Run `dirsearch -u <ip>` to get the paths.

Can also add `--exclude-status 403` to hide the Forbidden status. The only path
that gives a 200 status is `development`. If we go to that location there are
some txt files.

3. Run `nmap --script smb-enum* <ip>` to run enumeration on the smb server.

For some reason the nmap command didn't work for me. I was getting an error
"ERROR: Script execution failed", but I just tried to open the smb in a file
manager and that worked. Then I used PCManFM to connect to the SMB:
"smb://<ip>" and opened the anonymous share. There was a txt file that included
the name of the two users `jan` and `kay`. Since we know that `J` has the weak
password we focus on `jan`.

4. We can try to connect to the machine using ssh.

We can use hydra to brute force the jan user `hydra -l jan -P
/usr/share/wordlists/rockyou.txt ssh://<ip>`

5. Now we just look around in the file system.

We found a `kay` user directory for the `K` person. There is a private ssh key
that we can read. The problem with it is that it is encrypted. So we can try to
brute force it with John.

First convert the private ssh key to john format using `python ssh2john.py
id_rsa > id_rsa.hash`. Then we can use `john id_rsa.hash` to search for the
passphrase.

After we get it we can then try to ssh into kay. `ssh -i id_rsa kay@<ip>` and
then enter the password.

6. We now have access on the `kay` user.
